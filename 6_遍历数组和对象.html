<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
	</head>
	<body>
		<div id="app">
			<ul>
				<li v-for="(p, index) in persons" :key="index">
					<input id="id" type="text" :value="p.id"/>
					<input id="name" type="text" :value="p.name"/>
					<button @click="cha(7,'YIueil',index)">修改</button>
					<button @click="del(index)">删除</button>
				</li>
				<button @click="neww(7,'YIueil',index)">新增</button>
			</ul>
			
		</div>
		
		<script src="js/vue.js"></script>
		<script>
			const vm = new Vue({
			  el: '#app',
			  data: {
			    persons: [
					{id: '1',name: '张三'},
					{id: '2',name: '李四'},
					{id: '3',name: '王五'},
					{id: '4',name: '赵六'}
				]
			  },
	
			  methods:{
				  cha(id,name,index){
					  const ob={id,name};
					  console.log(ob);
					  // 魔改变异方法:实际上就是把原来的方法执行后重新pull
					  this.persons.splice(index,1,ob);
				  },
				  del(index){
					  this.persons.splice(index,1);
				  },
				  neww(id,name,index){
					  const ob={id,name};
					  console.log(ob);
					  this.persons.splice(index,0,ob);
				  }
			  }
			})
		</script>
	</body>
</html>
